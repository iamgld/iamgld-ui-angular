@let errors = this.control().invalid && (this.control().dirty || this.control().touched);

<section class="input" [class.input--disabled]="control().disabled" [class.input--error]="errors">
	<!-- Label -->
	@if (label()) {
		<label [for]="name()">
			{{ label() }}
		</label>
	}

	<!-- Input -->
	<textarea
		#inputElement
		[id]="name()"
		[name]="name()"
		[placeholder]="placeholder()"
		[formControl]="control()"
		(blur)="onTouched()"></textarea>

	<!-- Suffix Icon -->
	@if (suffix()) {
		<ng-container [ngTemplateOutlet]="iconTemplate" [ngTemplateOutletContext]="{ inputElement }" />
	}
</section>
<!-- Errors -->
@if (errors) {
  <ng-content select="gld-input-error">
    <gld-input-error [errors]="control().errors" />
  </ng-content>
} @else {
	<!-- Hint -->
	<ng-content select="gld-input-hint" />
}

<!-- Template -->
<ng-template #iconTemplate let-inputElement="inputElement">
	<span
		tabindex="-1"
		class="input-icon"
		[class.input-icon--error]="errors"
		(keyup.enter)="inputElement.focus()"
		(click)="inputElement.focus()">
		<ng-content select="[inputSuffix]" />
	</span>
</ng-template>

<!-- <h3>Debugging</h3>
<section>errors: {{ errors }}</section>
<section>invalid: {{ control().invalid }}</section>
<section>dirty: {{ control().dirty }}</section>
<section>touched: {{ control().touched }}</section>
<section>disable: {{ control().disabled }}</section> -->
