@let errors = this.control().invalid && (this.control().dirty || this.control().touched);

<section #selectElement class="select">
	<section
		class="input"
		[class.input--disabled]="this.control().disabled"
		[class.input--error]="errors">
		<!-- Label -->
		@if (label()) {
			<label [for]="name()">
				{{ label() }}
			</label>
		}
		<!-- Input -->
		<input
			type="text"
			[id]="name()"
			[name]="name()"
			[placeholder]="placeholder()"
			[formControl]="control()"
			(blur)="onTouched()" />

		<!-- Suffix -->
		<ng-container [ngTemplateOutlet]="suffixTemplate" />

		<!-- Menu -->
		<ng-container [ngTemplateOutlet]="menuTemplate" />
	</section>
	<!-- Errors -->
	@if (errors) {
    <ng-content select="gld-input-error">
      <gld-input-error [errors]="control().errors" />
    </ng-content>
	} @else {
		<!-- Hint -->
		<ng-content select="gld-input-hint" />
	}
</section>

<!-- Menu Template -->
<ng-template #menuTemplate>
	<section class="select-menu">
		<ng-content select="gld-select-option" />
	</section>
</ng-template>

<!-- Suffix Template -->
<ng-template #suffixTemplate>
	<gld-icon
		size="small"
		class="input-icon"
		[class.input-icon--error]="errors"
		[icon]="Icons.arrowDownSLine" />
</ng-template>

<!-- <h3>Debugging</h3> -->
<!-- <section>errors: {{ control().errors | json }}</section> -->
<!-- <section>errors: {{ errors }}</section> -->
<!-- <section>invalid: {{ control().invalid }}</section> -->
<!-- <section>dirty: {{ control().dirty }}</section> -->
<!-- <section>touched: {{ control().touched }}</section> -->
<!-- <section>disable: {{ control().disabled }}</section> -->
